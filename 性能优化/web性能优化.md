# web性能优化

所有性能的提升，最终都会落到**CPU**，**内存**，**IO**和**网络**这4大块上。

硬件的升级成本高，更多时候需要从设计与编码上来提高性能。

## 1.架构层面

### 微服务

### 集群、分布式

**集群**与**分布式**：两者都是通过廉价的机器群来分担任务的压力以达到在限定的时间内完成待处理的任务。集群物理集中统一管理，分布式强调的是一种工作状态，一个系统或程序分布在不同的服务器上就可以叫做分布式。对于集群，一个节点挂掉不影响整个系统，分布式的一个节点挂掉，会影响整个计算结果。

## 2.使用缓存

使用Redis作为缓存数据库

## 3.数据库层面

### 数据库连接池

高并发必须使用数据库连接池。

因为数据库连接采用TCP/IP协议，每次创建和关闭数据库连接会花费大量时间，维护一个数据库连接池会节省创建数据库连接的时间。

### 主从同步

主从同步，读写分离。

频繁的从单一的一个数据库进行读写操作，会降低web性能。将数据库设计为主从同步，一个数据库只负责读，一个数据库只负责写，既能提升性能，也能一定程度的容灾。

### SQL优化

**避免全盘扫描**

**使用索引**

大致上，当查询结果是返回表中5%以内的数据时，应该走索引；当查询结果返回的是超过表中5%的数据时，应该走全表扫描。

## 4.IO负载

## 5.隔离

### 业务隔离

### 系统隔离

### 数据隔离

